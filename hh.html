<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devis</title>
</head>
<body>
    <h1>Devis</h1>

    <p>Date: <span id="date"></span></p>

    <h2>Informations de l'entreprise</h2>
    <p>Nom de l'entreprise: <span id="companyName"></span></p>
    <p>Adresse: <span id="companyAddress"></span></p>
    <p>Téléphone: <span id="companyPhone"></span></p>

    <h2>Liste des produits</h2>
    <table>
        <thead>
            <tr>
                <th>Produit</th>
                <th>Quantité</th>
                <th>Prix HT</th>
                <th>TVA (20%)</th>
            </tr>
        </thead>
        <tbody id="productList"></tbody>
    </table>

    <p>Total hors taxes: <span id="totalHT"></span></p>
    <p>Total TVA: <span id="totalTVA"></span></p>
    <p>Total toutes taxes comprises: <span id="totalTTC"></span></p>

    <button id="printButton">Imprimer le devis</button>
    <button id="confirmButton">Valider la commande</button>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const date = new Date();
            const formattedDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;
            document.getElementById("date").textContent = formattedDate;
        
            // Remplissez les informations de l'entreprise ici
            document.getElementById("companyName").textContent = "Nom de l'entreprise";
            document.getElementById("companyAddress").textContent = "Adresse de l'entreprise";
            document.getElementById("companyPhone").textContent = "Téléphone de l'entreprise";
        
            // Ajoutez les produits, quantités, prix HT et TVA à la liste des produits
            const productList = document.getElementById("productList");
        
            // Exemple de produits (remplacez par vos propres données)
            const products = [
                { name: "Produit 1", quantity: 2, priceHT: 100 },
                { name: "Produit 2", quantity: 3, priceHT: 75 },
            ];
        
            let totalHT = 0;
            products.forEach((product) => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${product.name}</td>
                    <td>${product.quantity}</td>
                    <td>${product.priceHT} €</td>
                    <td>${(product.priceHT * 0.2).toFixed(2)} €</td>
                `;
        
                productList.appendChild(row);
        
                totalHT += product.priceHT;
            });
        
            document.getElementById("totalHT").textContent = `${totalHT} €`;
            document.getElementById("totalTVA").textContent = `${(totalHT * 0.2).toFixed(2)} €`;
            document.getElementById("totalTTC").textContent = `${(totalHT * 1.2).toFixed(2)} €`;
        
            // Gérez l'impression du devis (ouvrir la page d'impression)
            document.getElementById("printButton").addEventListener("click", function () {
                window.print();
            });
        
            // Gérez la validation de la commande (afficher un message)
            document.getElementById("confirmButton").addEventListener("click", function () {
                alert("Confirmation de la commande. Le panier sera vidé.");
            });
        });
        
    </script>
</body>
</html>
